# üìÅ Estructura del Proyecto - Intranet Inti

## üéØ **Descripci√≥n General**

Este documento describe la estructura completa del proyecto, incluyendo la organizaci√≥n de archivos, directorios y la l√≥gica de organizaci√≥n del c√≥digo.

## üèóÔ∏è **Estructura de Directorios**

```
intranet-inti/
‚îú‚îÄ‚îÄ üìÅ app/                          # L√≥gica de aplicaci√≥n Laravel
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Console/                  # Comandos de consola
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Commands/             # Comandos personalizados
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ DebugDocumentos.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ CheckUploadLimits.php
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ CheckDocumentos.php
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Http/                     # Capa HTTP
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Controllers/          # Controladores
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Api/              # Controladores API
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ AuthController.php
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ DocumentoController.php
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ DireccionController.php
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ProcesoApoyoController.php
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Middleware/           # Middleware personalizado
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CheckUserActivity.php
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HandleLargeUploads.php
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SecureFileAccess.php
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Requests/             # Validaciones de formularios
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Models/                   # Modelos Eloquent
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ User.php
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Documento.php
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Direccion.php
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProcesoApoyo.php
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Services/                 # Servicios de negocio
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Policies/                 # Pol√≠ticas de autorizaci√≥n
‚îú‚îÄ‚îÄ üìÅ config/                       # Configuraciones de Laravel
‚îÇ   ‚îú‚îÄ‚îÄ app.php
‚îÇ   ‚îú‚îÄ‚îÄ auth.php
‚îÇ   ‚îú‚îÄ‚îÄ database.php
‚îÇ   ‚îú‚îÄ‚îÄ filesystems.php
‚îÇ   ‚îî‚îÄ‚îÄ session.php
‚îú‚îÄ‚îÄ üìÅ database/                     # Base de datos
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ migrations/               # Migraciones
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 2025_01_15_000001_create_direcciones_table.php
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 2025_01_15_000002_create_procesos_apoyo_table.php
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 2025_01_15_000003_create_documentos_table.php
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 2025_08_09_135017_optimize_documentos_search_for_enterprise.php
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ seeders/                  # Datos de ejemplo
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ factories/                # Factories para testing
‚îú‚îÄ‚îÄ üìÅ public/                       # Archivos p√∫blicos
‚îÇ   ‚îú‚îÄ‚îÄ index.php                    # Punto de entrada
‚îÇ   ‚îú‚îÄ‚îÄ .htaccess                    # Configuraci√≥n Apache
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ storage/                  # Enlace simb√≥lico a storage
‚îú‚îÄ‚îÄ üìÅ resources/                    # Recursos de la aplicaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ js/                       # JavaScript/React
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ components/           # Componentes React
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ common/           # Componentes reutilizables
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SearchFilterBar.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SessionTimeoutWarning.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LoadingSpinner.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ dashboard/        # Componentes del dashboard
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HierarchicalFilters.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdvancedSearchFilters.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DocumentSearchSection.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ icons/            # Iconos SVG
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DashboardIcons.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserDashboard.jsx    # Dashboard principal
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Documentos.jsx       # Gesti√≥n de documentos
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Direcciones.jsx      # Gesti√≥n de direcciones
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProcesosApoyo.jsx    # Gesti√≥n de procesos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ contexts/             # Contextos de estado
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AuthContext.jsx      # Contexto de autenticaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ styles/               # Estilos CSS
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ components/       # Estilos por componente
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ UserDashboard.module.css
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Documentos.module.css
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ SearchFilterBar.module.css
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Dashboard.module.css
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ config/               # Configuraciones
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ session.js           # Configuraci√≥n de sesiones
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ performance.js       # Configuraci√≥n de rendimiento
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ views/                    # Vistas Blade (m√≠nimas)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.blade.php            # Vista principal SPA
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ lang/                     # Archivos de idioma
‚îú‚îÄ‚îÄ üìÅ routes/                       # Definici√≥n de rutas
‚îÇ   ‚îú‚îÄ‚îÄ api.php                      # Rutas API
‚îÇ   ‚îî‚îÄ‚îÄ web.php                      # Rutas web
‚îú‚îÄ‚îÄ üìÅ storage/                      # Almacenamiento de archivos
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ app/                      # Archivos privados
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ public/               # Archivos p√∫blicos
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ documentos/       # Documentos subidos
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ framework/                # Archivos del framework
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ cache/                # Cach√©
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ logs/                 # Logs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ sessions/             # Sesiones
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ logs/                     # Logs de aplicaci√≥n
‚îú‚îÄ‚îÄ üìÅ tests/                        # Tests automatizados
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Feature/                  # Tests de funcionalidades
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Unit/                     # Tests unitarios
‚îú‚îÄ‚îÄ üìÅ vendor/                       # Dependencias de Composer
‚îú‚îÄ‚îÄ üìÅ node_modules/                 # Dependencias de npm
‚îú‚îÄ‚îÄ üìÅ docs/                         # Documentaci√≥n del proyecto
‚îÇ   ‚îú‚îÄ‚îÄ USER_STORIES.md              # Historias de usuario
‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md              # Arquitectura del sistema
‚îÇ   ‚îî‚îÄ‚îÄ STRUCTURE.md                 # Este archivo
‚îú‚îÄ‚îÄ .env                             # Variables de entorno
‚îú‚îÄ‚îÄ .env.example                     # Ejemplo de variables de entorno
‚îú‚îÄ‚îÄ .gitignore                       # Archivos ignorados por Git
‚îú‚îÄ‚îÄ composer.json                    # Dependencias PHP
‚îú‚îÄ‚îÄ composer.lock                    # Lock de dependencias PHP
‚îú‚îÄ‚îÄ package.json                     # Dependencias JavaScript
‚îú‚îÄ‚îÄ package-lock.json                # Lock de dependencias JavaScript
‚îú‚îÄ‚îÄ webpack.mix.js                   # Configuraci√≥n de Mix
‚îú‚îÄ‚îÄ README.md                        # Documentaci√≥n principal
‚îî‚îÄ‚îÄ artisan                          # Comando de Laravel
```

## üîß **Organizaci√≥n del C√≥digo**

### **Frontend (React)**

#### **Estructura de Componentes**
```
components/
‚îú‚îÄ‚îÄ common/                          # Componentes reutilizables
‚îÇ   ‚îú‚îÄ‚îÄ SearchFilterBar.jsx          # Barra de b√∫squeda
‚îÇ   ‚îú‚îÄ‚îÄ SessionTimeoutWarning.jsx    # Advertencia de sesi√≥n
‚îÇ   ‚îî‚îÄ‚îÄ LoadingSpinner.jsx           # Spinner de carga
‚îú‚îÄ‚îÄ dashboard/                       # Componentes espec√≠ficos del dashboard
‚îÇ   ‚îú‚îÄ‚îÄ HierarchicalFilters.jsx      # Filtros en cascada
‚îÇ   ‚îú‚îÄ‚îÄ AdvancedSearchFilters.jsx    # Filtros avanzados
‚îÇ   ‚îî‚îÄ‚îÄ DocumentSearchSection.jsx    # Secci√≥n de b√∫squeda
‚îî‚îÄ‚îÄ [Componentes principales]        # Componentes de p√°ginas
```

#### **Convenciones de Nomenclatura**
```javascript
// Componentes: PascalCase
const UserDashboard = () => { /* ... */ };

// Archivos de componentes: PascalCase.jsx
UserDashboard.jsx
SearchFilterBar.jsx

// Hooks personalizados: camelCase con prefijo 'use'
const useApiRequest = () => { /* ... */ };

// Funciones: camelCase
const handleSearch = () => { /* ... */ };

// Constantes: UPPER_SNAKE_CASE
const API_BASE_URL = 'http://localhost:8000/api';
```

#### **Organizaci√≥n de Estilos**
```css
/* Estilos modulares por componente */
UserDashboard.module.css
Documentos.module.css
SearchFilterBar.module.css

/* Convenciones CSS */
.container { /* Contenedor principal */ }
.header { /* Encabezado */ }
.content { /* Contenido principal */ }
.footer { /* Pie de p√°gina */ }

/* Estados */
.button:hover { /* Estado hover */ }
.button:active { /* Estado activo */ }
.button:disabled { /* Estado deshabilitado */ }
```

### **Backend (Laravel)**

#### **Estructura de Controladores**
```php
// Controladores API: sufijo 'Controller'
class DocumentoController extends Controller
{
    // M√©todos CRUD est√°ndar
    public function index() { /* Listar */ }
    public function store() { /* Crear */ }
    public function show() { /* Mostrar */ }
    public function update() { /* Actualizar */ }
    public function destroy() { /* Eliminar */ }
    
    // M√©todos espec√≠ficos
    public function buscar() { /* B√∫squeda */ }
    public function descargar() { /* Descarga */ }
    public function vistaPrevia() { /* Vista previa */ }
}
```

#### **Estructura de Modelos**
```php
// Modelos: singular, PascalCase
class Documento extends Model
{
    // Propiedades
    protected $fillable = [/* campos llenables */];
    protected $casts = [/* conversiones de tipos */];
    
    // Relaciones
    public function direccion() { /* ... */ }
    public function procesoApoyo() { /* ... */ }
    
    // Scopes
    public function scopePorDireccion() { /* ... */ }
    public function scopePorProceso() { /* ... */ }
    
    // Accesores y mutadores
    public function getTama√±oFormateadoAttribute() { /* ... */ }
}
```

#### **Estructura de Middleware**
```php
// Middleware: sufijo descriptivo
class CheckUserActivity
{
    public function handle(Request $request, Closure $next)
    {
        // L√≥gica del middleware
        return $next($request);
    }
}
```

## üìä **Base de Datos**

### **Estructura de Tablas**
```sql
-- Convenciones de nomenclatura
-- Tablas: plural, snake_case
-- Columnas: snake_case
-- Claves for√°neas: singular_tabla_id

-- Tabla de usuarios
users (
    id BIGINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    role_id BIGINT UNSIGNED,
    last_login_at TIMESTAMP NULL,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL
);

-- Tabla de direcciones
direcciones (
    id BIGINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(255) NOT NULL,
    codigo VARCHAR(50) UNIQUE NOT NULL,
    descripcion TEXT NULL,
    activo BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL
);

-- Tabla de procesos de apoyo
procesos_apoyo (
    id BIGINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(255) NOT NULL,
    codigo VARCHAR(50) NOT NULL,
    descripcion TEXT NULL,
    direccion_id BIGINT UNSIGNED,
    activo BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL,
    FOREIGN KEY (direccion_id) REFERENCES direcciones(id)
);

-- Tabla de documentos
documentos (
    id BIGINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    titulo VARCHAR(255) NOT NULL,
    descripcion TEXT NULL,
    nombre_archivo VARCHAR(255) NOT NULL,
    nombre_original VARCHAR(255) NOT NULL,
    ruta_archivo VARCHAR(500) NOT NULL,
    tipo_archivo VARCHAR(100) NOT NULL,
    tama√±o_archivo BIGINT UNSIGNED NOT NULL,
    direccion_id BIGINT UNSIGNED,
    proceso_apoyo_id BIGINT UNSIGNED,
    subido_por BIGINT UNSIGNED,
    slug VARCHAR(255) UNIQUE,
    tipo VARCHAR(100) NULL,
    etiquetas JSON NULL,
    fecha_documento DATE NULL,
    vigente_hasta DATE NULL,
    confidencialidad ENUM('Publico', 'Interno', 'Restringido') DEFAULT 'Publico',
    contador_descargas INT UNSIGNED DEFAULT 0,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL,
    FOREIGN KEY (direccion_id) REFERENCES direcciones(id),
    FOREIGN KEY (proceso_apoyo_id) REFERENCES procesos_apoyo(id),
    FOREIGN KEY (subido_por) REFERENCES users(id)
);
```

### **√çndices Optimizados**
```sql
-- √çndices para b√∫squeda r√°pida
CREATE INDEX idx_documentos_direccion_proceso 
ON documentos(direccion_id, proceso_apoyo_id, created_at);

CREATE INDEX idx_documentos_search_complete 
ON documentos(direccion_id, proceso_apoyo_id, tipo_archivo, confidencialidad, created_at);

CREATE INDEX idx_documentos_tipo_archivo 
ON documentos(tipo_archivo);

CREATE INDEX idx_documentos_created_at 
ON documentos(created_at);

CREATE INDEX idx_documentos_confidencialidad 
ON documentos(confidencialidad);

CREATE INDEX idx_documentos_subido_por 
ON documentos(subido_por, created_at);

CREATE INDEX idx_direcciones_activo 
ON direcciones(activo);

CREATE INDEX idx_procesos_apoyo_direccion 
ON procesos_apoyo(direccion_id, activo);
```

## üîÑ **Flujo de Archivos**

### **Subida de Documentos**
```
1. Usuario selecciona archivo
   ‚Üì
2. Frontend valida tipo y tama√±o
   ‚Üì
3. FormData se env√≠a a /api/documentos
   ‚Üì
4. HandleLargeUploads middleware procesa
   ‚Üì
5. DocumentoController valida y almacena
   ‚Üì
6. Archivo se guarda en storage/app/public/documentos/
   ‚Üì
7. Registro se crea en tabla documentos
   ‚Üì
8. Respuesta JSON se env√≠a al frontend
```

### **B√∫squeda de Documentos**
```
1. Usuario aplica filtros
   ‚Üì
2. Frontend construye query parameters
   ‚Üì
3. GET request a /api/documentos con filtros
   ‚Üì
4. DocumentoController aplica filtros
   ‚Üì
5. Query SQL optimizada con √≠ndices
   ‚Üì
6. Resultados paginados se retornan
   ‚Üì
7. Frontend renderiza resultados
```

## üìÅ **Almacenamiento de Archivos**

### **Estructura de Directorios**
```
storage/
‚îú‚îÄ‚îÄ app/                             # Archivos privados
‚îÇ   ‚îî‚îÄ‚îÄ public/                      # Archivos p√∫blicos
‚îÇ       ‚îî‚îÄ‚îÄ documentos/              # Documentos subidos
‚îÇ           ‚îú‚îÄ‚îÄ 2025/                # Organizaci√≥n por a√±o
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ 01/              # Organizaci√≥n por mes
‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 15/          # Organizaci√≥n por d√≠a
‚îÇ           ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ documento1.pdf
‚îÇ           ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ documento2.docx
‚îÇ           ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ           ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ framework/                       # Archivos del framework
    ‚îú‚îÄ‚îÄ cache/                       # Cach√©
    ‚îú‚îÄ‚îÄ logs/                        # Logs
    ‚îî‚îÄ‚îÄ sessions/                    # Sesiones
```

### **Convenciones de Nomenclatura**
```php
// Archivos: timestamp_nombre_original.extensi√≥n
$nombreArchivo = time() . '_' . $request->file('archivo')->getClientOriginalName();

// Ejemplo: 1754747141_formato_practicas.docx
```

## üîß **Configuraci√≥n**

### **Archivos de Configuraci√≥n**
```php
// config/app.php - Configuraci√≥n general
'name' => env('APP_NAME', 'Intranet Inti'),
'env' => env('APP_ENV', 'production'),
'debug' => env('APP_DEBUG', false),

// config/database.php - Configuraci√≥n de BD
'default' => env('DB_CONNECTION', 'mysql'),
'mysql' => [
    'driver' => 'mysql',
    'host' => env('DB_HOST', '127.0.0.1'),
    'port' => env('DB_PORT', '3306'),
    'database' => env('DB_DATABASE', 'intranet_inti'),
    'username' => env('DB_USERNAME', 'root'),
    'password' => env('DB_PASSWORD', ''),
],

// config/filesystems.php - Configuraci√≥n de archivos
'disks' => [
    'local' => [
        'driver' => 'local',
        'root' => storage_path('app'),
    ],
    'public' => [
        'driver' => 'local',
        'root' => storage_path('app/public'),
        'url' => env('APP_URL').'/storage',
        'visibility' => 'public',
    ],
],
```

### **Variables de Entorno**
```bash
# .env
APP_NAME="Intranet Inti"
APP_ENV=production
APP_DEBUG=false
APP_URL=http://localhost:8000

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=intranet_inti
DB_USERNAME=root
DB_PASSWORD=

CACHE_DRIVER=file
SESSION_DRIVER=file
QUEUE_CONNECTION=sync
```

## üìä **Logs y Monitoreo**

### **Estructura de Logs**
```
storage/logs/
‚îú‚îÄ‚îÄ laravel.log                      # Log principal
‚îú‚îÄ‚îÄ laravel-2025-01-15.log           # Logs por fecha
‚îî‚îÄ‚îÄ debug.log                        # Logs de debug
```

### **Niveles de Log**
```php
// Log::emergency() - Sistema inutilizable
// Log::alert() - Acci√≥n inmediata requerida
// Log::critical() - Condici√≥n cr√≠tica
// Log::error() - Error de ejecuci√≥n
// Log::warning() - Advertencia
// Log::notice() - Evento normal pero significativo
// Log::info() - Informaci√≥n general
// Log::debug() - Informaci√≥n de debug
```

## üöÄ **Deployment**

### **Estructura de Producci√≥n**
```
/var/www/intranet-inti/
‚îú‚îÄ‚îÄ current/                         # Enlace simb√≥lico a versi√≥n actual
‚îú‚îÄ‚îÄ releases/                        # Versiones desplegadas
‚îÇ   ‚îú‚îÄ‚îÄ 20250115-120000/            # Release por fecha
‚îÇ   ‚îî‚îÄ‚îÄ 20250115-130000/            # Release m√°s reciente
‚îú‚îÄ‚îÄ shared/                          # Archivos compartidos
‚îÇ   ‚îú‚îÄ‚îÄ storage/                     # Almacenamiento persistente
‚îÇ   ‚îú‚îÄ‚îÄ .env                        # Variables de entorno
‚îÇ   ‚îî‚îÄ‚îÄ logs/                       # Logs persistentes
‚îî‚îÄ‚îÄ vendor/                          # Dependencias
```

### **Comandos de Deployment**
```bash
# Desplegar nueva versi√≥n
php artisan down --message="Actualizando sistema"
git pull origin main
composer install --no-dev --optimize-autoloader
php artisan migrate --force
php artisan config:cache
php artisan route:cache
php artisan view:cache
php artisan up
```

Esta estructura proporciona una organizaci√≥n clara, mantenible y escalable para el sistema de gesti√≥n documental empresarial.
